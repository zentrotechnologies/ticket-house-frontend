<div class="audience-page audience-body">
  <!-- Events Header with Column Structure -->
  <!-- <header class="audience-header">
    <div class="container">
      <div class="header-row">
        <div class="header-col left-section-col">
          <div class="left-section-content">
            <div class="logo-wrapper">
                <img class="logo" src="/assets/ticket-house-logo.jpeg" alt="ticket-house-logo" />
            </div>
            <div class="search-wrapper">
              <div class="search">
                <input placeholder="Search for Events, Artists, Location..." aria-label="search" />
              </div>
            </div>
          </div>
        </div>
        <div class="header-col actions-col">
          <div class="user-actions">
            <div class="location muted">Pune ‚ñº</div>
            <div *ngIf="isUserLoggedIn" class="user-welcome-dropdown">
              <div class="user-welcome-trigger" (click)="toggleDropdown()">
                Welcome, {{ getUserDisplayName() }}! ‚ñº
              </div>
              <div *ngIf="showUserDropdown" class="user-dropdown-menu">
                <div class="dropdown-item" (click)="onViewProfile()">
                  View Profile
                </div>
                <div class="dropdown-item" (click)="onViewBookings()">
                  My Bookings
                </div>
                <div class="dropdown-divider"></div>
                <div class="dropdown-item logout-item" (click)="onLogout()">
                  <span class="logout-icon">üö™</span>
                  Logout
                </div>
              </div>
            </div>
            <div *ngIf="!isUserLoggedIn" class="pill" (click)="onSignIn()">Sign In</div>
          </div>
        </div>
      </div>
    </div>
  </header> -->

  <!-- events-page.component.html -->
  <div class="events-page">
    <!-- HERO SECTION WITH CAROUSEL -->
    <section class="hero">
      <!-- Banner Carousel -->
      <div class="banner-carousel">
        <!-- Loading State -->
        <div *ngIf="isLoadingBanners" class="carousel-loading">
          <div class="spinner"></div>
        </div>

        <!-- No Banners Fallback -->
        <div *ngIf="!isLoadingBanners && banners.length === 0" class="carousel-fallback">
          <div class="fallback-content">
            <span class="badge">Welcome to</span>
            <h1>Ticket<span class="highlight">House</span></h1>
            <p class="hero-sub">Your gateway to amazing events and experiences</p>
          </div>
        </div>

        <!-- Banner Carousel Content -->
        <div *ngIf="!isLoadingBanners && banners.length > 0" class="carousel-container">
          <!-- Current Banner -->
          <div class="carousel-slide" [style.background-image]="'url(' + getBannerImageUrl(getCurrentBanner()!) + ')'">
            <div class="carousel-overlay">
              <!-- <div class="events-container"> -->
              <!-- Optional: You can add dynamic content from banners if needed -->
              <!-- <span class="badge">{{ getCurrentBanner()?.banner_title || 'Featured Event' }}</span>
              <h1>{{ getCurrentBanner()?.banner_heading || 'Amazing Events' }}</h1>
              <p class="hero-sub">{{ getCurrentBanner()?.banner_description || 'Discover the best events in your city' }}</p>
              <div class="date-pill" *ngIf="getCurrentBanner()?.banner_date">{{ getCurrentBanner()?.banner_date }}</div> -->

              <!-- Static content or dynamic from banner -->
              <!-- <span class="badge">Featured</span>
              <h1>Discover Amazing Events</h1>
              <p class="hero-sub">Experience the best live performances, concerts, and shows</p>
              <div class="banner-action" *ngIf="getCurrentBanner()?.action_link_url">
                <button class="action-btn" (click)="onBannerClick(getCurrentBanner()!)">
                  Learn More ‚Üí
                </button>
              </div>
            </div> -->
            </div>
          </div>

          <!-- Carousel Navigation Arrows -->
          <!-- <button class="carousel-arrow prev" (click)="prevBanner()" aria-label="Previous banner">‚ùÆ</button>
        <button class="carousel-arrow next" (click)="nextBanner()" aria-label="Next banner">‚ùØ</button> -->

          <!-- Carousel Indicators -->
          <!-- <div class="carousel-indicators">
          <button 
            *ngFor="let banner of banners; let i = index" 
            class="indicator" 
            [class.active]="i === currentBannerIndex"
            (click)="goToBanner(i)"
            [attr.aria-label]="'Go to slide ' + (i + 1)">
          </button>
        </div> -->

          <!-- Optional: Banner Counter -->
          <!-- <div class="carousel-counter">
          {{ currentBannerIndex + 1 }} / {{ banners.length }}
        </div> -->
        </div>
      </div>
    </section>

    <main class="events-main">
      <div class="events-container">
        <!-- Coming This Week -->
        <section class="events-section">
          <h2 class="section-title">{{ sectionTitle }}</h2>

          <div *ngIf="isLoadingEvents" class="loading-spinner">Loading events...</div>

          <div *ngIf="!isLoadingEvents && upcomingEvents.length === 0" class="no-events">
            <p>No upcoming events found.</p>
          </div>

          <div *ngIf="!isLoadingEvents && upcomingEvents.length > 0" class="cards-grid">
            <!-- <div *ngFor="let event of upcomingEvents" class="event-card">
              <div
                class="poster"
                [style.background-image]="
                  'url(' +
                  (event.banner_image ||
                    'https://images.unsplash.com/photo-1526178611801-4f9d2f6d1a6c?w=800&q=60') +
                  ')'
                "
              ></div>
              <p class="meta">
                {{ event.formatted_date || formatDate(event.event_date) }}, {{ event.start_time }}
              </p>
              <p class="title">{{ event.event_name }}</p>
              <p class="meta">{{ event.location }}</p>
            </div> -->

            <div *ngFor="let event of upcomingEvents" class="event-card">
              <div class="card-content" (click)="onEventClick(event)">
                <div class="poster" [style.background-image]="
                    'url(' +
                    (event.banner_image ||
                      'https://images.unsplash.com/photo-1526178611801-4f9d2f6d1a6c?w=800&q=60') +
                    ')'
                  ">
                  <!-- Add this pill badge -->
                  <div class="pill-badge">Filling Fast</div>
                </div>
                <p class="meta">
                  {{ event.formatted_date || formatEventDate(event.event_date) }},
                  {{ event.start_time }}
                </p>
                <p class="title">{{ event.event_name }}</p>
                <!-- <p class="meta location-text" [title]="event.location">{{ event.location }}</p> -->
                <p class="meta location-text" (click)="onLocationClick($event, event)"
                  [class.clickable]="hasLocationUrl(event)">
                  <span class="location-icon" *ngIf="hasLocationUrl(event)">üìç</span>
                  {{ event.location }}
                </p>
                <!-- Add price below location using a method call -->
                <p class="meta price">
                  <span *ngIf="getEventPrice(event) !== null">
                    ‚Çπ{{ getEventPrice(event) }}
                  </span>
                  <span *ngIf="getEventPrice(event) === null">
                    Sold Out
                  </span>
                </p>
              </div>
            </div>
          </div>

          <!-- Add View All Button - Only if you've implemented the method -->
          <!--
          <div *ngIf="upcomingEvents.length > 0" class="view-all-container">
            <button class="view-all-btn" (click)="viewAllEvents()">View All Upcoming Events</button>
          </div>
          -->
        </section>

        <!-- Show by Artist -->
        <section class="artist-strip d-none">
          <h2 class="section-title">Show by Artist</h2>

          <div *ngIf="isLoadingArtists" class="loading-spinner">Loading artists...</div>

          <div *ngIf="!isLoadingArtists && artists.length === 0" class="no-artists">
            <p>No artists found.</p>
          </div>

          <div *ngIf="!isLoadingArtists && artists.length > 0" class="artist-list">
            <div *ngFor="let artist of artists" class="artist-card">
              <div class="artist-pic" [style.background-image]="
                  'url(' +
                  (artist.artist_photo ||
                    'https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=600&q=60') +
                  ')'
                "></div>
              <p class="name">{{ artist.artist_name }}</p>
              <!-- <p class="role">{{ artist.role }}</p> -->
            </div>
          </div>
        </section>

        <!-- Testimonial -->
        <section class="testimonial-section d-none">
          <h2 class="section-title">Testimonial by Artists</h2>

          <div *ngIf="isLoadingTestimonials" class="loading-spinner">Loading testimonials...</div>

          <div *ngIf="!isLoadingTestimonials && testimonials.length === 0" class="no-testimonials">
            <p>No testimonials found.</p>
          </div>

          <div *ngIf="!isLoadingTestimonials && testimonials.length > 0" class="testimonial">
            <!-- <div
              class="test-img"
              [style.background-image]="
                'url(' +
                (getCurrentTestimonial()?.profile_img ||
                  'https://images.unsplash.com/photo-1504814532845-3f33f25f2b2d?w=1200&q=60') +
                ')'
              "
            ></div> -->
            <div class="test-img" [style.background-image]="'url(' + 'assets/av.jpg' + ')'"></div>
            <div class="test-text">
              <h3>{{ getCurrentTestimonial()?.name || 'Saurabh Bhosale' }}</h3>
              <p class="role">
                {{ getCurrentTestimonial()?.role || 'Stand-up Comedian & Storyteller' }}
              </p>
              <p class="desc">
                {{ getCurrentTestimonial()?.description || 'Finally, a platform built for performers like us! Managing
                small shows and stand-up gigs has never been this easy. From listing events to tracking sales ‚Äî
                everything feels simple and reliable.'
                }}
              </p>
            </div>
            <div class="arrow" (click)="nextTestimonial()">‚ùØ</div>
          </div>
        </section>

        <!-- CTA -->
        <section class="cta-section">
          <div class="cta">
            <p class="cta-text">List Your Show ‚Äî It's Free!</p>
            <button class="cta-btn" (click)="navigateToSignUp()">Contact Us</button>
          </div>
        </section>
      </div>
    </main>

    <footer class="events-footer">
      <div class="events-container">
        <div class="footer-main">
          <!-- Logo and Company Info -->
          <div class="footer-col brand-col">
            <img class="logo" src="/assets/th_transparent_logo.png" alt="ticket-house-logo" />
            <p class="company-tagline">
              Your one-stop destination for booking tickets to events, movies, and live shows.
            </p>

            <!-- Social Media Icons -->
            <!-- <div class="social-icons">
              <a href="#" class="social-icon facebook" aria-label="Facebook">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                  <path
                    d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                </svg>
              </a>
              <a href="#" class="social-icon instagram" aria-label="Instagram">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                  <path
                    d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                </svg>
              </a>
              <a href="#" class="social-icon youtube" aria-label="YouTube">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                  <path
                    d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z" />
                </svg>
              </a>
              <a href="#" class="social-icon twitter" aria-label="Twitter/X">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                  <path
                    d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                </svg>
              </a>
            </div> -->
          </div>

          <!-- Quick Links -->
          <!-- <div class="footer-col">
            <h4 class="footer-title">Quick Links</h4>
            <ul class="footer-links-list">
              <li><a href="#">Events</a></li>
              <li><a href="#">Movies</a></li>
              <li><a href="#">Live Shows</a></li>
              <li><a href="#">Offers</a></li>
            </ul>
          </div> -->

          <!-- Support -->
          <div class="footer-col">
            <h4 class="footer-title">Support</h4>
            <ul class="footer-links-list">
              <li><a (click)="openTermsConditions()" style="cursor: pointer;">Terms & Conditions</a></li>
              <li><a (click)="openPrivacyPolicy()" style="cursor: pointer;">Privacy Policy</a></li>
              <li><a (click)="openRefundPolicy()" style="cursor: pointer;">Refund Policy</a></li>
            </ul>
          </div>

          <!-- Contact Us -->
          <div class="footer-col">
            <h4 class="footer-title">Contact Us</h4>
            <ul class="footer-links-list contact-info">
              <li><a href="mailto:support@tickethouse.in" target="_blank">support@tickethouse.in</a></li>
            </ul>
          </div>
        </div>

        <!-- Copyright -->
        <div class="footer-bottom">
          <p class="copy">
            ¬© 2026 Zentro Technologies LLP. All Rights Reserved.
            <span class="made-with">Made with <span class="heart">‚ô•</span></span>
          </p>
        </div>
      </div>
    </footer>
  </div>
</div>